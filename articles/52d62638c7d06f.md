---
title: "WebARã§ã‚«ãƒ¡ãƒ©æƒ…å ±ã‚’å–å¾—ã§ãã‚‹Raw Camera Accessã«ã¤ã„ã¦ã®èª¿æŸ»éŒ²"
emoji: "ğŸ“¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["webar", "babylonjs", "webgl", "typescript", "ar"]
published: false
---

# ã¯ã˜ã‚ã«

## TL;DR

Raw Camera Access ã‚’ç”¨ã„ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ WebXR Device API ã‹ã‚‰ã‚«ãƒ¡ãƒ©ç”»åƒã‚„ã‚«ãƒ¡ãƒ©å†…éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿-ã‚’å–å¾—ã§ãã‚‹ã€‚
ç¾åœ¨ï¼ˆ2021/12ï¼‰ã¯å®Ÿé¨“çš„æ©Ÿèƒ½ã¨ã—ã¦ AR ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ Chrome for Android ã®ã¿ã§æä¾›ã•ã‚Œã¦ã„ã‚‹ã€‚

## æ¦‚è¦

ã“ã®è¨˜äº‹ã¯[WebXR ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼](https://adventar.org/calendars/6556)ã® 18 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

ç§ã¯ WebAR ã‚’ä½¿ã£ãŸé–‹ç™ºã‚’ã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã®ã§ã™ãŒã€
ãã®ä¸­ã§ã€Œã‚«ãƒ¡ãƒ©ã®æƒ…å ±ã‚’å–å¾—ã—ãŸã„ã€ã¨ã„ã†èª²é¡Œã‚’æŠ±ãˆã¦ãŠã‚Šã¾ã—ãŸã€‚
ãã®ä¸­ã§è‰²ã€…èª¿ã¹ã¦ç™ºè¦‹ã—ãŸè¬ã® WebXR Raw Camera Access Featureï¼ˆä»¥ä¸‹ Raw Camera Accessï¼‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚

## æ‰±ã†å†…å®¹

æœ¬è¨˜äº‹ã§ã¯ä»¥ä¸‹ã®å†…å®¹ã‚’æ‰±ã„ã¾ã™ã€‚

- Raw Camera Access ã®æ¦‚è¦
- Raw Camera Access ã®ç¾çŠ¶
- Babylon.js ã‚’ä½¿ã£ãŸä½¿ç”¨æ–¹æ³•ã®ä¾‹

ã¾ãŸæœ¬è¨˜äº‹ã§ã¯åŸºæœ¬äº‹é …ã‚’ç¢ºèªã›ãšã«æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
ã—ãŸãŒã£ã¦åŸºæœ¬çš„ãª Web ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®çŸ¥è­˜ã‚„ TypeScript ã®æ–‡æ³•ãªã©ã‚’
ç†è§£ã—ã¦ã„ã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ã§ã™ã€‚

## å¯¾è±¡èª­è€…

ä»¥ä¸‹ã«ç¤ºã™ã‚ˆã†ãªæ–¹ã«ã¯ã€æœ¬è¨˜äº‹ã§è§¦ã‚Œã‚‹å†…å®¹ãŒå½¹ã«ç«‹ã¤ã¨è€ƒãˆã¾ã™ã€‚

- WebAR ã§ã‚«ãƒ¡ãƒ©ç”»åƒã‚’å–å¾—ã—ãŸã„äºº
- WebXR Device API ã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚’çŸ¥ã‚ŠãŸã„äºº

ã¾ãŸè©³ç´°ã¯å¾Œè¿°ã—ã¾ã™ãŒã€ä»Šå›æ‰±ã† API ã¯**ã‹ãªã‚Šæœ€è¿‘å‡ºã¦ããŸå®Ÿé¨“çš„ãª API**ã§ã™ã€‚
è©¦ã™ã¨ãã¯è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚
ãã—ã¦ç¾åœ¨ï¼ˆ2021/12ï¼‰ã“ã® API ãŒä½¿ãˆã‚‹ã®ã¯ Chrome for Android ã®ã¿ã¨ç™ºè¡¨ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€
iOS ã§ WebXR ã‚’ã‚„ã‚‰ã‚Œã¦ã„ã‚‹æ–¹ã¯ã”ã‚ã‚“ãªã•ã„ã€‚

## æƒ³å®šç’°å¢ƒ

ç­†è€…ãŒç”¨ã„ãŸç’°å¢ƒã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

- é–‹ç™ºæ©Ÿï¼šWindows 10 Home
- ãƒ‡ãƒãƒƒã‚°æ©Ÿï¼šPixel 4a 5Gï¼ˆAndroid12ï¼‰, Nexus 5Xï¼ˆAndroid8.1ï¼‰
- Node.js 16.x
- Babylon.js **5.0.0.preview-60**
- TypeScript
- Vite 2

# Raw Camera Access ã®ç¾çŠ¶èª¿æŸ»

## Raw Camera Access ã¨ã¯ã„ã£ãŸã„ä½•ã‹

Raw Camera Access ã¨ã¯ã€ãã®åã®é€šã‚Š
WebXR Device API çµŒç”±ã§ã‚«ãƒ¡ãƒ©ç”»åƒãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’å–å¾—ã—ã€
ãã‚Œã‚’ WebAR ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§åˆ©ç”¨ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã™ã€‚

https://chromestatus.com/feature/5759984304390144

ãªã‚“ã ã‹æ™®é€šã«å®Ÿè£…ã•ã‚Œã¦ãã†ãªæ©Ÿèƒ½ã§ã™ãŒã€
å®Ÿã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è¦³ç‚¹ã‹ã‚‰é•·ã‚‰ãå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚
ä»£æ›¿ã¨ã—ã¦ getUserMedia ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ãŒã€
æ™®é€šã«ã‚¹ãƒãƒ›ã§ã‚„ã£ã¦ã—ã¾ã†ã¨ getUserMedia ã¨ WebXR Device API ãŒã‚«ãƒ¡ãƒ©ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å¥ªã„åˆã£ã¦ã—ã¾ã†ãŸã‚
å³ã—ã„é¸æŠã§ã™ã€‚

ä¸Šã«è¼‰ã›ãŸ Chrome Platform Status ã® Platform Support Explanation ã‚’ä¸€éƒ¨å¼•ç”¨ã—ã¾ã™ã€‚

> This will be supported on platforms where Chrome supports AR. Currently, this is only Android. WebView support is planned. There are no technical restrictions specific to this API preventing it from being implemented on other platforms.

ã“ã‚Œã«ã‚ˆã‚‹ã¨ã€Raw Camera Access Feature ã¯
AR ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ Chrome ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹äºˆå®šã§ã‚ã‚Šã€
ç¾åœ¨(2021/11/27)æ™‚ç‚¹ã§ã¯ Chrome for Android ã®ã¿ã¨ã®ã“ã¨ã§ã™ã€‚

## API ã®æƒ…å ±æ•´ç†ã¨åˆ©ç”¨ä¾‹

ã‚‚ã¨ã‚‚ã¨ Raw Camera Access ã¯æ¬¡ã® GitHub ã«ææ¡ˆå†…å®¹ãŒã‚ã‚Šã¾ã—ãŸã€‚
æœ€çµ‚ã‚³ãƒŸãƒƒãƒˆãŒ 2021 å¹´ã® 6 æœˆãªã®ã§ã€Raw Camera Access ãŒå®Ÿé¨“çš„ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚‹å‰ã§ã™ã­ã€‚

https://github.com/immersive-web/raw-camera-access/blob/main/explainer.md

ã“ã®ææ¡ˆå†…å®¹ã®ä¸­ã«ã¯ã€ã™ã§ã« Raw Camera Access ã‚’æœ‰åŠ¹ã«ã™ã‚‹æ–¹æ³•ã‚„ã€
ãã‚Œã‚’ä½¿ã£ã¦ã‚«ãƒ¡ãƒ©ç”»åƒã¨ã‚«ãƒ¡ãƒ©å†…éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨ˆç®—ãƒ»å–å¾—ã™ã‚‹æ–¹æ³•ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚
å…·ä½“çš„ã«å†…å®¹ã‚’æŠœç²‹ã—ã¦ã¿ã¾ã™ã€‚

ã¾ãš Raw Camera Access ã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«ã¯ã€
XRSession ã‚’å–å¾—ã™ã‚‹éš›ã« feature ã¨ã—ã¦`"camera-access"`ã‚’ require ã—ã¾ã™ã€‚

```js:GitHubã‚ˆã‚ŠæŠœç²‹
const session = await navigator.xr.requestSession("immersive-ar", {
  requiredFeatures: ["camera-access"]
});
```

ãã—ã¦ã‚«ãƒ¡ãƒ©ç”»åƒã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚

```js:GitHubã‚ˆã‚ŠæŠœç²‹ï¼ˆã¡ã‚‡ã£ã¨æ”¹å¤‰ï¼‰
// ... in rAFcb ...
let viewerPose = xrFrame.getViewerPose(xrRefSpace);
for (const view of viewerPose.views) {
  if (view.camera) {
    const cameraTexture = binding.getCameraImage(view.camera);
  }
}
```

æœ€çµ‚çš„ã«`cameraTexture`ã«æ ¼ç´ã•ã‚ŒãŸã‚‚ã®ãŒã‚«ãƒ¡ãƒ©ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã¨ãªã‚Šã¾ã™ã€‚
ã“ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã¯`WebGLTexture`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€WebGL API ã§æ‰±ã†ã“ã¨ãŒã§ãã‚‹ç”»åƒãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚

ã¾ãŸã‚³ãƒ¡ãƒ³ãƒˆã§ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹é€šã‚Šã€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯
`xrSession.requestAnimationFrame`ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å†…ã§å®Ÿè¡Œã•ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯é€šå¸¸ã® Web API ã® requestAnimationFrame ã¨ã¯ç•°ãªã‚Šã€WebXR å°‚ç”¨ã®ã‚‚ã®ã§ã™ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

ã“ã®ã‚³ãƒ¼ãƒ‰ä¸­ã«å­˜åœ¨ã™ã‚‹`view.camera`ã‚„`binding.getCameraImage`ãªã©ã¯
é€šå¸¸å‹å®£è¨€ã«ã¯çµ„ã¾ã‚Œã¦ã„ãªã„ãŸã‚ã€TypeScript ã§æ‰±ã†å ´åˆã‚„å‹è£œå®Œã‚’åŠ¹ã‹ã›ãŸã„å ´åˆã«ã¯
æ¬¡ã®ä¾‹ã«ã‚ã‚‹ã‚ˆã†ãªå‹å®£è¨€ã‚’ã—ã¾ã™ã€‚

```ts:GitHubã‚ˆã‚ŠæŠœç²‹
partial interface XRView {
  // Non-null iff there exists an associated camera that perfectly aligns with the view:
  [SameObject] readonly attribute XRCamera? camera;
};

interface XRCamera {
  // Dimensions of the camera image:
  readonly attribute long width;
  readonly attribute long height;
};

partial interface XRWebGLBinding {
  // Access to the camera texture itself:
  WebGLTexture? getCameraImage(XRCamera camera);
};
```

ç¶šã„ã¦ã‚«ãƒ¡ãƒ©å†…éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚
ã‚³ãƒ¼ãƒ‰ã‚’æŠœç²‹ã—ã¾ã™ã€‚

```js:GitHubã‹ã‚‰æŠœç²‹
function getCameraIntrinsics(projectionMatrix, viewport) {
  const p = projectionMatrix;

  // Principal point in pixels (typically at or near the center of the viewport)
  let u0 = (1 - p[8]) * viewport.width / 2 + viewport.x;
  let v0 = (1 - p[9]) * viewport.height / 2 + viewport.y;

  // Focal lengths in pixels (these are equal for square pixels)
  let ax = viewport.width / 2 * p[0];
  let ay = viewport.height / 2 * p[5];

  // Skew factor in pixels (nonzero for rhomboid pixels)
  let gamma = viewport.width / 2 * p[4];

  // Print the calculated intrinsics:
  const intrinsicString = (
    "intrinsics: u0=" + u0 + " v0=" + v0 + " ax=" + ax + " ay=" + ay +
    " gamma=" + gamma + " for viewport {width=" +
    viewport.width + ",height=" + viewport.height + ",x=" +
    viewport.x + ",y=" + viewport.y + "}");

  console.log("projection:", Array.from(projectionMatrix).join(", "));
  console.log(intrinsicString);
}
```

å¼•æ•°ã«å–ã£ã¦ã„ã‚‹`projectionMatrix`ã¯ã‚«ãƒ¡ãƒ©å°„å½±è¡Œåˆ—ã®ã“ã¨ã§ã€
[`XRView.projectionMatrix`](https://developer.mozilla.org/en-US/docs/Web/API/XRView/projectionMatrix)ã®ã‚ˆã†ã«ã—ã¦å–å¾—ã§ãã‚‹è¡Œåˆ—ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚
è¡Œåˆ—ã¨ã„ã£ã¦ã‚‚`Float32Array`å‹ãªã®ã§å®Ÿæ…‹ã¯é…åˆ—ã§ã™ã­ã€‚

`viewport`ã¯`XRViewport`å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå®šç¾©ã«ãªã£ã¦ã„ã¾ã™ã€‚

```ts
interface XRViewport {
  height: number;
  width: number;
  x: number;
  y: number;
}
```

`WebGLLayer`ã‚„`WebGLRenderingContext`ã‹ã‚‰å–å¾—ã§ãã‚‹ã®ã§ã™ãŒã€
è‡ªåˆ†ã®ç’°å¢ƒã§ã¯ XRWebGLLayer ã‹ã‚‰å–å¾—ã—ãŸ viewport ã®ç”»ç´ æ•°ã¨
ã‚«ãƒ¡ãƒ©ç”»åƒã®ç”»ç´ æ•°ã«é•ã„ãŒå‡ºã¦ã—ã¾ã£ã¦ã„ã¾ã—ãŸã€‚
ã¤ã¾ã‚Šã‚«ãƒ¡ãƒ©ç”»åƒã® intrinsics ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã¯ Viewport ã‚’è‡ªåˆ†ã§ä½œæˆã—ãªãã¦ã¯ã„ã‘ãªã„ã¿ãŸã„ã§ã€
æ¬¡ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§è§£æ±ºã—ã¾ã—ãŸã€‚

```ts
const viewport: XRViewport = {
  x: 0,
  y: 0,
  width: view.camera.width,
  height: view.camera.height,
};
```

é–¢æ•°ä¸­ã«ã‚ã‚‹`u0`,`v0`ãŒå…‰å­¦ä¸­å¿ƒã€`ax`,`ay`ãŒç„¦ç‚¹è·é›¢ã‚’è¡¨ã‚ã—ã€
ã“ã‚Œã‚‰ã®å€¤ã‚’ç®—å‡ºã§ãã¾ã™ã€‚

## Babylon.js ã§ã®åˆ©ç”¨

ä»Šå›ã€ã‚µãƒ³ãƒ—ãƒ«ã¾ã§ã¯ç”¨æ„ã§ãã¾ã›ã‚“ã§ã—ãŸãŒã€
å®Ÿéš›ã« TypeScript ã§æ›¸ã„ãŸ Babylon.js ã® WebAR ãƒ¢ãƒ¼ãƒ‰ã§è©¦ã™ã“ã¨ãŒã§ãã¾ã—ãŸã®ã§
é›°å›²æ°—ã ã‘ã”ç´¹ä»‹ã—ã¾ã™ã€‚

ã¾ãš Babylon.js ã§ XRSession ã‚’åˆæœŸåŒ–ãƒ»å–å¾—ã™ã‚‹ãŸã‚ã«ã¯
`_scene.createDefaultXRExperienceAsync`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¦æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚

```ts
this._xrExperience = await this._scene.createDefaultXRExperienceAsync({
  uiOptions: {
    sessionMode: "immersive-ar",
    referenceSpaceType: "unbounded",
    optionalFeatures: ["camera-access"],
  },
});
```

ãƒã‚¤ãƒ³ãƒˆã¯`optionalFeatures`ã¨ã—ã¦`camera-access`ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚
ã“ã‚Œã¯ WebXR Device API ã‚’ãã®ã¾ã¾ä½¿ã£ãŸã¨ãã¨è¦‹ãŸç›®ã¯ä¼¼ã¦ã„ã¾ã™ã­ã€‚
ã¾ãŸã‚«ãƒ¡ãƒ©æƒ…å ±ã¯ requestAnimationFrame ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å†…ã§å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€
Babylon.js ã® XRSessionManager ã‹ã‚‰ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ç™»éŒ²ã—ã¾ã—ã‚‡ã†ã€‚

```ts
this._sessionManager = this._xrExperience.baseExperience.sessionManager;
this._sessionManager.onXRFrameObservable.add((frame) => {
  // camera operations ...
});
```

ç¶šã„ã¦ Raw Camera Access ã‚’ç”¨ã„ã¦ã‚«ãƒ¡ãƒ©æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

```ts:ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å†…
if (!this._xrExperience || !this._sessionManager) {
  return;
}

const viewerPose = frame.getViewerPose(this._sessionManager.referenceSpace);
if (!viewerPose) {
  return;
}

const view = viewerPose.views[0];
if (!view) {
  return;
}

// calc camera intrinsics
const viewport: XRViewport = {
  x: 0,
  y: 0,
  width: (view as any).camera.width,
  height: (view as any).camera.height,
};

const projectionMatrix = view.projectionMatrix;
const intrinsics = this.getCameraIntrinsics(projectionMatrix, viewport); // å¾Œè¿°

// get camera image data
const gl = this._scene.getEngine()._gl;
const xrWebGLBinding = new XRWebGLBinding(this._sessionManager.session, gl);

const webglTexture = (xrWebGLBinding as any).getCameraImage((view as any).camera);
```

ã‚³ãƒ¼ãƒ‰å†…ã§ç”¨ã„ã¦ã„ã‚‹`this.getCameraIntrinsics`ãƒ¡ã‚½ãƒƒãƒ‰ã¯
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å¤‰ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã—ãŸã€‚

```ts
private static getCameraIntrinsics(projectionMatrix: Float32Array, viewport: XRViewport) {
  const p = projectionMatrix;

  // Principal point in pixels (typically at or near the center of the viewport)
  const u0 = ((1 - p[8]) * viewport.width) / 2 + viewport.x;
  const v0 = ((1 - p[9]) * viewport.height) / 2 + viewport.y;

  // Focal lengths in pixels (these are equal for square pixels)
  const ax = (viewport.width / 2) * p[0];
  const ay = (viewport.height / 2) * p[5];

  return {
    principalOffset: {
      x: u0,
      y: v0,
    },
    focalLength: {
      x: ax,
      y: ay,
    },
  };
}
```

## ä½¿ç”¨æ™‚ã®æ³¨æ„

æœ€å¾Œã«ä½¿ç”¨æ™‚ã®æ³¨æ„ã§ã™ã€‚
å‰è¿°ã®ã¨ãŠã‚Š Raw Camera Access ã¯ AR ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã® Chrome for Android ã§æä¾›ã•ã‚Œã¦ã„ã‚‹æ©Ÿèƒ½ã§ã™ã€‚
ç¾åœ¨ï¼ˆ2021/12/14 æ™‚ç‚¹ï¼‰ã§ã¯ãã® WebXR Incubation ã¨ã„ã† flag ã‚’æœ‰åŠ¹ã«ã—ãªã„ã¨å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚
è‡ªåˆ†ã¯ã“ã‚Œã«æ•°æ—¥æ‚©ã¾ã•ã‚ŒãŸã®ã§ã€ã¿ãªã•ã‚“ã¯æ°—ã‚’ä»˜ã‘ã¦ãã ã•ã„......ã€‚

WebXR Incubation ã¯ã€Chrome ã® url ã«`chrome://flags`ã¨æ‰“ã¡è¾¼ã‚“ã§ã€ŒWebXRã€ã¨æ¤œç´¢ã™ã‚‹ã“ã¨ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

![img](/images/raw-camera-access/incubation.jpg =300x)

# ãŠã‚ã‚Šã«

WebXR Device API ã§ã‚«ãƒ¡ãƒ©æƒ…å ±ã‚’å–å¾—ã§ãã‚‹ Raw Camera Access ã‚’ã”ç´¹ä»‹ã—ã¾ã—ãŸã€‚
å…ƒã€…è‡ªåˆ†ã¯ã‚«ãƒ¡ãƒ©å†…éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã—ãŸã‹ã£ãŸã‚‚ã®ã®ã€é›£ã—ã„ã®ã‹ãªã¨è€ƒãˆã¦ã„ã¾ã—ãŸã€‚
ãªã®ã§ Raw Camera Access ã‚’ç™ºè¦‹ã—ã¦ã‹ãªã‚Šèˆˆå¥®ã—ãŸã®ã‚’è¦šãˆã¦ã„ã¾ã™ã€‚
ãŸã ãƒãƒƒãƒˆä¸Šã«ã‚ã¾ã‚Šæƒ…å ±ãŒãªãã€ã»ã¼å…¬å¼ã‹ã‚‰å‡ºã¦ã„ã‚‹æƒ…å ±ã®ã¿ã§æ‰‹æ¢ã‚Šã§é€²ã‚ã¦ã„ã¾ã—ãŸã€‚

WebAR ã¯ Unity ã‚„ãƒã‚¤ãƒ†ã‚£ãƒ– AR ã‚¢ãƒ—ãƒªã‚ˆã‚Šã‚‚
é–‹ç™ºç’°å¢ƒã‚„ API ãŒæ•´å‚™ã•ã‚Œã¦ã„ãªã„ã®ãŒç¾çŠ¶ã ã¨è€ƒãˆã¾ã™ã€‚
Web ä¸Šã§æ‰±ãˆã‚‹æƒ…å ±ãŒå¢—ãˆã¦ã‚¢ãƒ—ãƒªã®å¹…ãŒåºƒãŒã‚‹ã“ã¨ã§ã€
å°†æ¥ Web ã¨ã„ã†æ‰‹è»½ãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ãƒªãƒƒãƒãª AR ä½“é¨“ãŒã§ãã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚

æœ¬è¨˜äº‹ã®å†…å®¹ãŒå°‘ã—ã§ã‚‚çš†ã•ã‚“ã®ãŠåŠ›ã«ãªã‚Œã‚Œã°å¹¸ã„ã§ã™ã€‚

## å‚è€ƒæ–‡çŒ®

https://chromestatus.com/feature/5759984304390144

https://github.com/immersive-web/raw-camera-access/blob/main/explainer.md

https://zenn.dev/drumath2237/scraps/935e96c3058f42
