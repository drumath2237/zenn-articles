---
title: "自作のCLIアプリでUnJSを使ってみたらめちゃくちゃ便利だった"
emoji: "🧩"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["cli", "unjs", "typescript"]
published: false
---

## はじめに

### TL;DR

### 本記事の内容と対象読者

本記事は、[Vue.js v-tokyo Meetup #21](https://vuejs-meetup.connpass.com/event/321431/)にて筆者が LT 登壇した内容を記事化したものです。
筆者が最近取り組んでいた CLI 開発において UnJS を導入したところ、非常に便利と感じたため発表することとなりました。発表資料は[GitHub Pages に上げています](https://drumath2237.github.io/slides-create-cli-with-unjs/1)。

https://vuejs-meetup.connpass.com/event/321431/

本記事では CLI 開発に便利な UnJS のパッケージをいくつか紹介し、どのように使ったのかの解説もします。
UnJS に興味があり、どんなパッケージをどのように使うのか気になっている人を対象にしています。

前提知識として Node.js/TypeScript の基礎的な理解があると読みやすいでしょう。

### 検証環境

検証環境は下記の通りです。

- Windows 10/11 Home
- Node.js 18.17.1 / 20.x
- pnpm 9.5

### 参考となるリポジトリ

筆者がメンテしている create-babylon-app では、v0.2 系から UnJS を使用しています。
ぜひコード例の参考としてご覧ください。

https://github.com/drumath2237/create-babylon-app

## 自作の CLI、create-babylon-app について

create-babylon-app とは、Babylon.js という Web 3D グラフィクスエンジンを使ったプロジェクトをローカル環境に作成できる CLI です。

https://www.babylonjs.com/

筆者はこの Babylon.js が好きで趣味でよく触っていたり、ユーザグループの運営をやっていたりしている関係でこの CLI を開発・メンテしています。
create-babylon-app コマンドラインから実行し、いくつか質問に答えると回答に沿ったプロジェクトが作成される、いわゆる Scaffolding ツールです。
フロントエンドのツールだと、create-vite や Nuxt CLI などと動作が近く、実際に実装面でもかなり参考にしています。

![cba](/images/cli-unjs/cba.gif)

最近 create-babylon-app の v0.2 系をリリースし、その際に従来の技術スタックをごそっと UnJS に置き換えました。

https://github.com/drumath2237/create-babylon-app/releases/tag/v0.2.2

create-babylon-app のメンテは正直そんなにできていなかったのですが、最近モチベが高くなったので取り組んでいました。
詳細は Babylon.js ゆるほめ LT 会 vol.3 でお話しています。

@[speakerdeck](13f5924384ee42f190c578d9df36cab5)

そんな中で GANGAN さんのツイートを発見し、citty を中心に UnJS について調べることになりました。

https://twitter.com/gangan_nikki/status/1744908147733692742

## UnJS とは

UnJS はあらゆる JavaScript フレームワーク・プラットフォームで動作するライブラリ・ツール群です。
下記に公式の説明を引用します。

> Agnostic Excellence: JavaScript Libraries, Tools, and Utilities, Crafted to Elevate Your Coding Journey.

https://unjs.io/

Nuxt の開発メンバーが中心となりメンテナンスされているらしく、実際に UnJS のライブラリの一部は Nuxt CLI などで利用されています。
UnJS のパッケージ一覧を見れば分かるのですが、「こういうのあると良いよね」というような便利ライブラリがすらりと並んでいて壮観です。執筆時点では 63 個が公開されていました。UnJS 何でも揃ってるじゃん......って定期的に言っていきたいですね。

![unjs-packages](/images/cli-unjs/unjspackages.png)
_UnJS のパッケージ一覧ページ_

https://unjs.io/packages

## UnJS を使用して CLI の機能を実装する

### unbuild

### citty

### consola

### giget

### pkg-types

### jiti

## おわりに

### 参考文献

- UnJS30 個紹介記事
- UnJS 登壇資料
- UnJS サイトリンク
